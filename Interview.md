
#java 面试题

## 基础知识类

### 内存方面
【1】JVM加载class文件的原理机制 

![](/Users/huxiaoyan/Desktop/JVM机制图.png)
 Execution Engine:包含JIT complier + Garbage Collector（即GC）;
 
  * .java经过编译后，生成.class文件  
  * class文件再通过class loader加载到内存（只要符合文件结构就会被加载到内存，实质是把类文件从硬盘读取到内存中）   
  * 然后通过运行时数据区分配内存。  
  * 再经过执行引擎，解释命令，然后提交给操作系统执行
  * 当需要与异构系统交互时通过本地接口进行

java中所有类（系统类+扩展类+程序员自定义类）必须被装载（隐式装载+显式装载（class.fornamre（）））到jvm中才能运行。  

```java
 一个应用程序总是由n多个类组成，Java程序启动时，并不是一次把所有的类全部加载后再 
运行，它总是先把保证程序运行的基础类一次性加载到jvm中，其它类等到jvm用到的时候再加载，这样的好处是节省了内存的开销.  
jvm的类装载器并不是一个，而是三个，层次结构如下： 
      Bootstrap Loader  - 负责加载系统类 
            | 
          - - ExtClassLoader  - 负责加载扩展类 
                          | 
                      - - AppClassLoader  - 负责加载应用类 
```
 
【2】Java 中会存在内存泄漏吗，请简单描述  
 
【3】GC是什么？为什么要有GC？
  
  * JDK(java开发者工具包)：包含编译，运行，打包，分发和监视java应用  
  * JVM（java虚拟机）：保证java的无平台性。
  * JRE（运行环境）：JRE包含JVM实现和java API

  ```java
   1. GC： Garbage Collection,垃圾回收。  
   2. 内存分配:见【4】题
   3. 哪些内存需要回收
   4. 在什么情况下执行GC及执行方式
   5. 如何监控和优化GC机制
  
  ```

【4】java内存分配
  ![](/Users/huxiaoyan/Desktop/java运行时数据.jpeg)
 
   * 程序计数器（program counter register）：程序计数器是一个比较小的内存区域，用于指示当前线程所执行的字节码执行到了第几行，可以理解为是当前线程的行号指示器
     
   * JVM stack：一个线程的每个方法在执行的同时，都会创建一个栈帧（Statck Frame），栈帧中存储的有局部变量表、操作站、动态链接、方法出口等，当方法被调用时，栈帧在JVM栈中入栈，当方法执行完成时，栈帧出栈。  
   
   * 本地方法栈：与 JVM stack类似，唯一的区别是：虚拟机栈是执行Java方法的，而本地方法栈是用来执行native方法的。
     
   * heap：在JVM所管理的内存中，堆区是最大的一块，堆区也是Java GC机制所管理的主要内存区域，堆区由所有线程共享，在虚拟机启动时创建。堆区的存在是为了存储对象实例，原则上讲，所有的对象都在堆区上分配内存 
    
   * 方法区：方法区是各个线程共享的区域，用于存储已经被虚拟机加载的类信息（即加载类时需要加载的信息，包括版本、field、方法、接口等信息）、final常量、静态变量、编译器即时编译的代码等 。   
         
   * 运行时常量池（Runtime Constant Pool）是方法区的一部分，用于存储编译期就生成的字面常量、符号引用、翻译出来的直接引用（符号引用就是编码是用字符串表示某个变量、接口的位置，直接引用就是根据符号引用翻译出来的地址，将在类链接阶段完成翻译）；运行时常量池除了存储编译期常量外，也可以存储在运行时间产生的常量（比如String类的intern()方法，作用是String维护了一个常量池，如果调用的字符“abc”已经在常量池中，则返回池中的字符串地址，否则，新建一个常量加入池中，并返回地址）。 
 

### 对象方面
【1】抽象类（abstract class）和接口（interface）有什么异同？
【1.1】接口是否可继承（extends）接口？抽象类是否可实现（implements）接口？抽象类是否可继承具体类（concrete class）？ 
【2】静态嵌套类(Static Nested Class)和内部类（Inner Class）的不同？
【3】阐述静态变量和实例变量的区别
【4】如何实现对象克隆？
【5】Java 中的final关键字有哪些用法
【6】Java中如何实现序列化，有什么意义？ 
【7】如何通过反射创建对象？
【8】序列化和反序列化
 序列化：把对象转换为二进制；反序列化：二进制转换为对象
【9】如果协议从http修改为了https，那么测试时需要关注什么？  
 1. 查看请求是否全部更换为https，是否可以正常访问并返回数据是否正确  
 2. 如果https访问的地址里面 还含有http的协议，是否可以正确展示访问  
 3. https端口更改为了443  
 4. 由于https需要做服务器与客户的进行加解密处理，所以会消耗CPU和内存。对于与纯文本通信时，如也采用https会消耗更多的CPU和内存，请求处理的数量减少。故可以查看QPS 是否在接受范围内。

### 线程方面
【0】线程的基本状态以及状态之间的关系？ 
【1】Thread类的sleep()方法和对象的wait()方法都可以让线程暂停执行，它们有什么区别? 
【2】线程的sleep()方法和yield()方法有什么区别？ 
【3】请说出与线程同步以及线程调度相关的方法。
【4】编写多线程程序有几种实现方式？ 
【5】什么是线程池（thread pool）？
【6】举例说明同步和异步。
【7】synchronized关键字的用法？
 

### 基本类型与运算符方面
【1】String和StringBuilder、StringBuffer的区别？
【2】如何将字符串转换为基本数据类型？基本类型转换为字符串？
【3】阐述final、finally、finalize的区别。 
### 异常
【1】什么时候用断言（assert）？
【2】Error和Exception有什么区别？ 
【3】try{}里有一个return语句，那么紧跟在这个try后的finally{}里的代码会不会被执行，什么时候被执行，在return前还是后? 
【4】Java语言如何进行异常处理，关键字：throws、throw、try、catch、finally分别如何使用？
【5】运行时异常与受检异常有何异同？ 
【6】列出一些你常见的运行时异常？ 
### 数据库
【1】阐述JDBC操作数据库的步骤。 
【2】事务的ACID是指什么？ 
【3】JDBC中如何进行事务处理？ 


## 编程类
【0】XML文档定义有几种形式？它们之间有何本质区别？解析XML文档有哪几种方式？ 
【1】如何实现字符串的反转及替换？ （编程）
【2】写一个方法，输入一个文件名和一个字符串，统计这个字符串在这个文件中出现的次数。 （编程）